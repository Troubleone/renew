<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>播放器</title>
	<link rel="stylesheet" href="style.css">
</head>
<body>
	<div class="container">

		<div class="header">

		<p class="main_song">银临 - 锦鲤抄</p>

			<div class="processcontainer">

			<div id="processbar" style="width:0px;"></div>

			<audio id="my_audio" src="song.mp3" loop="false" hidden="ture">辣鸡浏览器还想听音乐？</audio>

			</div>
			<div id="bar_block"></div>

			<p class="time">02:17</p>
			
			<div class="buttons clearfix">
			    <input type="image" src="img/mark.png" class="mark">
				<input type="image" src="img/last.png" class="last">
				<input type="image" src="img/forward.png" class="forward">
				<input type="image" src="img/pause.png" id="pause" onclick="change_div()">
				<input type="image" src="img/play.png" class="play" onclick="pauseMove()">
				<input type="image" src="img/back.png" class="back">
				<input type="image" src="img/next.png" class="next">
				<input type="image" src="img/round.png" class="round">
			</div>
		</div>

		<div class="song_box">
			<div class="lefter">
				<input type="image" src="img/music.png" class="music">
				<input type="image" src="img/download.png" class="download">
				<input type="image" src="img/cloud.png" class="cloud">
				<input type="image" src="img/bluetooth.png" class="bluetooth">
			</div>
			<div class="righter">
			    <div class="title">
				    <h1>歌曲<span>歌手</span><span id="time">时长</span></h1>
				</div>
				
				<div class="songs">
					<h2>
						<div class="song">
							<a href="">银临</a><a href="">锦鲤抄</a><li>4：05</li>
						</div>
					</h2>
				</div>
			</div>
		</div>

		<div class="footer">
			<img src="img/footer_bg.png" alt="">
		</div>
	</div>
<link rel="stylesheet" href="javascript.js">
<script>
    var timer = null;
	function change_div(){
		var audio = document.getElementById("my_audio");
		var imgObj = document.getElementById("pause");

		clearInterval(timer);
        var bar = document.getElementById('processbar');
        timer = setInterval(function(){
        bar.style.width = parseInt(processbar.style.width) + 2.14 + "px";
        },1000)

		if (imgObj.getAttribute("src",2) == "img/pause.png")
		{
			imgObj.src = "img/play.png";
			audio.play();
		}
		else
		{
			imgObj.src = "img/pause.png"
			audio.pause();
			pauseMove();
		}
	}
	var audio = document.getElementById("my_audio");

    function pauseMove(){
    var bar = document.getElementById('processbar');
    clearInterval(timer);
   }
</script>
</body>
</html>